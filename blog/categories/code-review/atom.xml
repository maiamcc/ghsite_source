<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: code review | Maia McCormick]]></title>
  <link href="http://maiamcc.github.io/blog/categories/code-review/atom.xml" rel="self"/>
  <link href="http://maiamcc.github.io/"/>
  <updated>2014-10-11T15:28:57-04:00</updated>
  <id>http://maiamcc.github.io/</id>
  <author>
    <name><![CDATA[Maia McCormick]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Observations from Phonebook Code Review]]></title>
    <link href="http://maiamcc.github.io/blog/2014/09/12/observations-from-phonebook-code-review/"/>
    <updated>2014-09-12T15:38:52-04:00</updated>
    <id>http://maiamcc.github.io/blog/2014/09/12/observations-from-phonebook-code-review</id>
    <content type="html"><![CDATA[<p>Here are some gleanings from Amy&rsquo;s code review of <a href="https://github.com/maiamcc/phonebook">my phonebook applet</a>, and some self-study. Mostly for my own records and so I actually absorb all of this by writing out, but if anyone has comments, additions, disagreements with anything I&rsquo;ve written here, fire away!</p>

<ul>
<li>misc. layout stuff, like putting import statements in alphabetical order</li>
<li>avoid global vars when possible. I already knew this, but it&rsquo;s good to remember. For example, if you&rsquo;ve assuming your program will be run on the command line, you can put global vars in the <code>main()</code> function.</li>
<li>functions that only incedentally return stuff are <em>bad news</em>. I had a function called <code>phonebook_exists</code> that checked to see if the phonebook you were trying to look up existed; if it didn&rsquo;t exist, the func. would throw an error, and if it did, it would return the data of the phonebook. Which in retrospect was super weird because nothing the function name indicated that it was what you should use to get the contents of a saved phonebook. A much more sensible way to do this is to have a function called <code>read_phonebook</code> which attempts to return the contents of the saved phonebook, but if it fails (which you figure out with a try/except), then it throws an error. (Incidentally, I had a similar confusion with when things should and shouldn&rsquo;t be returned in another project I&rsquo;m working on, my bootleg homemade git. I had a function called <code>save_at_hash</code> that would hash a file, save it at its hash, and then return the hash. Why did this function return the hash? I assumed it would be useful. Couldn&rsquo;t really tell you why. I ended up refactoring it into two functions, <code>make_hash</code>&ndash;which took a file and returned a hash&ndash;and <code>save_at_hash</code>&ndash;which took a file and a hash and saved a copy of the file at that hash.)<!-- more --></li>
<li><p>relatedly, try/except is your friend. I suspect that if you need a function that checks something&rsquo;s validity before running another function on it, if the check is simple, that checking func is probably unnessary and you can handle that behavior with a try/except in the function that actually does stuff. Pydocs puts it wonderfully:</p>

<blockquote><p><a href="https://docs.python.org/2/glossary.html#term-eafp">EAFP</a> (Easier to Ask for Forgiveness than Permission):</p>

<p>This common Python coding style assumes the existence of valid keys or attributes and catches exceptions if the assumption proves false. This clean and fast style is characterized by the presence of many <code>try</code> and <code>except</code> statements. The technique contrasts with the <a href="https://docs.python.org/2/glossary.html#term-lbyl">LBYL</a> style common to many other languages such as C.</p></blockquote></li>
<li><p>but even though try/except is great, be wary! It can make debugging a mess&ndash;had something in here that caught TypeErrors, which exploded on Amy when she made a change that caught a type error, but my program printed &ldquo;more arguments needed&rdquo; instead of anything helpful like, y&#8217;know, a stacktrace.</p></li>
<li>if you&rsquo;re defining a dict., it looks prettiest to put spaces on both sides of the colon</li>
<li>string concat. is a) ugly and b) not very efficient. Use string interpolation (or in a pinch, <code>join</code>) instead.</li>
<li>you can search for substrings with <code>"substring" in "string"</code>! Who knew? I wrote a whole human-written-input parser using <code>if string.find(substring) &gt; -1</code>. My life has just changed.</li>
<li>in <code>for</code> loops, explicit var names are the way to go. I&rsquo;m usually decent about this when looping through lists, strings, whatever, but for some reason I tend to look through dictionaries with a very undescript <code>for key in mydict</code>.</li>
<li><code>.txt</code> extensions are totally unnecessary. Text files don&rsquo;t even need extensions.</li>
<li>streamlined, logical, one-thing-per-commit git histories are awesome!</li>
<li><code>str.startswith</code> and <code>str.endswith</code> are a thing! (Are both things?) Exciting! Now I want to go through all of the code I&rsquo;ve been writing recently and use these to replace any hard-coded integers in string manipulation, because that stuff&rsquo;s gross, man.</li>
<li>tests. Tests are good. Write them.</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Target: Acquired]]></title>
    <link href="http://maiamcc.github.io/blog/2014/07/31/target-acquired/"/>
    <updated>2014-07-31T18:42:31-04:00</updated>
    <id>http://maiamcc.github.io/blog/2014/07/31/target-acquired</id>
    <content type="html"><![CDATA[<p>At the end of Week 2, I&rsquo;m still overwhelmed, but a bit less, and with a bit more conviction that I can in fact write code. I finished my first project in Python yesterday, and spent this morning implementing some code review I got. Here are some things I learned, mainly for my own reference but perhaps other beginning Python folks will find it useful as well:<!-- more --></p>

<ul>
<li>4x spaces instead of tabs (Sublime will do this for you really easily! Sublime is magic!)</li>
<li>instead of a million &ldquo;or&rsquo;s&rdquo; in some truth statement, ask if it&rsquo;s in a list instead. So for instance, instead of <code>if a == 1 or a == True or a == true</code>, use <code>if a in [1, "True", "true"]</code>.</li>
<li>next time I write a program that makes the user pick among options from the command line (dear God, hopefully never again), instead of a giant string of if/elif&rsquo;s, consider a dictionary that maps user responses to the functions they excecute.</li>
<li>if I did this again, I&rsquo;d have made better use of classes, both as a) a way to group related methods and b) a way to keep track of the objects I was modifying. (Had a hell of a time trying to change some global variable, only to find that I&rsquo;d somehow modified it as a local variable instead. Calling a method ON that object would eliminate that problem.)</li>
<li>modular code is useful. Next time.</li>
<li>you can do way more in <code>return</code> statements than I ever thought you could (like funky if statements and for loops).</li>
</ul>


<p>I&rsquo;ve figured out my next project! I&rsquo;ll be doing fun stuff with the English language (always a hoot) and <a href="http://setosa.io/blog/2014/07/26/markov-chains/">Markov Chains</a>. More specifically, I&rsquo;m gonna write a program that will generate moderately-intelligible English text, based on patterns it leanrs from a sample text that I feed it. I&rsquo;ll start simple (just learning patterns of the words themselves), and if that works, I&rsquo;ll build a more complicated version (that recognizes syntactical patterns as well). Maybe if I have great success, I&rsquo;ll be able to do something whacky like a haiku generator!</p>
]]></content>
  </entry>
  
</feed>
