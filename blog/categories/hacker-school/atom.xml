<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: hacker school | Maia McCormick]]></title>
  <link href="http://maiamcc.github.io/blog/categories/hacker-school/atom.xml" rel="self"/>
  <link href="http://maiamcc.github.io/"/>
  <updated>2014-10-23T16:24:58-04:00</updated>
  <id>http://maiamcc.github.io/</id>
  <author>
    <name><![CDATA[Maia McCormick]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Markov Madness, part 2]]></title>
    <link href="http://maiamcc.github.io/blog/2014/10/23/markov-madness-2/"/>
    <updated>2014-10-23T16:13:34-04:00</updated>
    <id>http://maiamcc.github.io/blog/2014/10/23/markov-madness-2</id>
    <content type="html"><![CDATA[<p>(If you&rsquo;re confused, see <a href="/blog/2014/10/23/markov-madness/">my previous post on my Markov generator adventures</a>.)</p>

<p>The other thing I got up to today was implementing some sort of (questionable) part-of-speech-based intelligence. The idea was to have a dictionary for parts of speech, in addition to a dictionary of words. Then the work flow would go something like this:</p>

<p>1) start with a random seed
2) what part of speech should come next? Given the POS&rsquo;s we already have, pick at random one that might follow it.
3) given the words we have, pick a word that might follow <em>of the correct part of speech</em>. If none exists, repeat from step 2.</p>

<p>Now, using word trigrams and POS trigrams, the above process doesn&rsquo;t really add much beyond what using plain &lsquo;ol word trigrams gets you. Could I make something better, though, by using, say, 4-grams or 5-grams of parts of speech?</p>

<p>Well&hellip; I&rsquo;ll leave that to you to decide. Here are a bunch of different sample texts from Pride and Prejudice. All are word-gram-3. Some have no POS support, some are POS-gram-3, and some are POS-gram-4. (POS-gram-5, incedentally, doesn&rsquo;t really work&ndash;the requirements on what word you need to come next get so specific that there generally isn&rsquo;t one and the program crashes.) Which of these seem the most sensical? Can you guess which are no-POS, POS-gram-3, and POS-gram-4? Make your guesses&ndash;and then, if you want to check yourself, look at the HTML source for answers.</p>

<pre><code>1) 'into a marriage with Miss Bennet. Miss Bingley\'s pretended regard." "Would you believe it, Lizzy, that is the most uncomfortable in her favour. Bingley was then disclosed in the same house with the length of his going away when I tell you, Miss Bennet. I send no compliments to Mr. Darcy:--but let me shift for myself; and, perhaps, if I were agreeing that we should all be there by Mrs. Hurst and Miss Bingley in a prudential light it places Mr. Darcy, by the awkwardness of the letter nor its writer were at the gate in the discharge of his'&lt;!--POS-gram = 4--&gt;

2) 'difference of situation and temper. Consider Mr. Collins\'s picture of a sort of man; and of late it has not time to reply, but hurrying instantly to her so expressively, and shook hands with great enjoyment; and the mere ceremonious salutation attending his entrance. Anxious and uneasy, the period to which you have pleasure," said Bingley; "and I am in earnest. I speak plainer? Do not wish me such an assurance of it, that the match with a bow of superior society; but I know very well able to do it, she turned suddenly towards him and Mr. Darcy, "There'&lt;!--POS-gram = 3--&gt;

3) 'from my thoughts." "When they all are." "All young ladies were ready enough to determine her feelings in the time. Good gracious! when I have always seen a great deal more than I might have sufficient charms; and though the probability of error, and seek to recommend them," replied he; "they are married!" Elizabeth read on: "I have no wish of seeing him almost for the felicity which a pair of fine eyes in amazement, but was too happy, however, and if he sees enough of Bingley\'s being withheld from seeing Jane, she seriously hoped he might change his mind' &lt;!--no POS support--&gt;

4) 'ever have courage to shew Mrs. Gardiner\'s former residence, and where she had listened to her eyes, envied everyone to whom they would have been impossible for us to Miss Darcy, who had only set that down as soon as they used to be privileged to whisper to Elizabeth, "I hope not so. Painful recollections will not have forgotten where she was ready enough to make her resigned. As for my impertinence?" "For the liveliness of your own. But we are better acquainted--" He was resolutely silent, however, and, from a circulating library), he started back, and begging pardon, protested' &lt;!--no POS support--&gt;

5) 'months. Of having another daughter married to Mr. Bingley. It was at length return home; and she was to bring it in my own doing, and I thought only of the peace of the world, must make Hunsford extremely dull to a real, strong attachment. Pray, how violent was Mr. Bingley\'s chaise to go with him; and unwilling, for her sister\'s sake, to provoke him. Elizabeth was the son of old Wickham, the late perverse occurrences had thrown on many of the largest folios in the neighbourhood." "Oh! no--it is not so handsome as Wickham; or, rather, he has not'&lt;!--POS-gram = 4--&gt;

6) 'Darcy\'s praise occupied the chief of it. Can I speak plainer? Do not let your fancy run away with you. You will be an object of it, but Colonel Fitzwilliam was no more than she knew it myself, as it had not yet been able to enter the ----shire. She had no other reply to this effect: "I have been to persuade him against returning into Hertfordshire, anxiously renewing them at any time, etc. etc.; and if not, it would be gone in five minutes, you meant it to another, not to an end by exclamations and inquiries about the'&lt;!--POS-gram = 3--&gt;

7) 'but tell Lydia she shall have as much a debt of gratitude cannot enough acknowledge. By this time have been too pleasantly engaged to my fair cousins, though my brother left us yesterday, he imagined that we have found some resemblance of character to love each other in large mixed parties, it is the man! Now, Lizzy, I hardly know myself what it is no occasion for such a man would satisfy me. We will settle so quietly, and live in my power, I am very far from suspecting that she was discontented, she fancied that praise of himself, of' &lt;!--no POS support--&gt;

8) 'the opportunity of saying: "Is your sister make such an evil. Human nature is particularly prone to it, and sometimes with playful gaiety, replied to her housekeeping, her parish and her uncle had been her firmest opinion. Her keenest attention was suddenly roused by the middle of June, Kitty was too much sense to recommend myself to hope the best, in accepting a man on the subject. This will never be in want of money. Younger sons cannot marry where they were grieved, how shocking it was to distribute her presents and describe the newest fashions. When this information was'&lt;!--POS-gram = 3--&gt;

9) 'the pleasantness of the park," he replied, "it has been my profession--I was brought up by him alone, was such as did think, than such a way." "I can readily believe," answered he gravely, "that reports may vary greatly with respect to me; and as she had not by any particular person, for though the uncomfortable feelings arising from all restraint, his life that, instead of a man of five-and-twenty. His air was grave and stately, and his relation of my nephew! Unfeeling, selfish girl! Do you think of themselves before anybody and everybody! If my vanity had taken on'&lt;!--POS-gram = 4--&gt;
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Markov Madness, part 1]]></title>
    <link href="http://maiamcc.github.io/blog/2014/10/23/markov-madness/"/>
    <updated>2014-10-23T15:52:47-04:00</updated>
    <id>http://maiamcc.github.io/blog/2014/10/23/markov-madness</id>
    <content type="html"><![CDATA[<p>Man, I&rsquo;ve hardly written code in <em>three whole weeks!</em> Such a strange feelings, after 3 solid months of coding. Anyway, back at Hacker School for the day, and with my OPW application in, I&rsquo;ve been itching to actually <em>write some code</em>, so I revisited my old <a href="https://github.com/maiamcc/markovgen">Markov generator</a> project, which takes a training corpus and generates psuedo-random texts in the style of that corpus.<!--more--></p>

<p>I&rsquo;ve tried a few different tacks today for getting texts that actually resembled English and not just word-soup. The first was using n-grams of varying n&rsquo;s when generating my texts[1]. n = 1 is just random words and not worth testing. n = 2 is very nearly gibberish. n = 3 and n = 4 are the sweet spot of sensical-yet-random text; when we get to n = 5, it tends to be several verbatim sentences from the corpus patched together in odd ways, and at n = 6, it is almost consistently exact quotes from the text. At a guess, in more quote-unquote complex texts (i.e., those with more unique words) n = 5 will be closer to verbatim, and in texts with more common words, there will be more room for deviation from any pattern that the generator falls into, and thus n = 5 will be distinct from the original text. Here are generated texts using n-grams of increasing n, from <em>Pride and Prejudice</em>.</p>

<pre><code>In [67]: straight_up_markov_gen = Markov("texts/plain/pride_prejudice")

In [68]: straight_up_markov_gen.generate(n=2)
Out[68]: 'to-morrow; and as she could not do. He looked towards clearing him, Charlotte Lucas, when you an admiration will afford, and the establishment were said Miss Darcy was at no reason away, where Mr. Bingley was meant by me. I am sure," she had scarcely ever mentioned to her, "these offenses might have the temptation, added, "that my manner in the walk to Mr. Darcy liked him." "But it was diffuse in money which had ended only could listen, therefore, pardon for having very day confirms my dear," said by their present party; but their separation. To these three or'

In [69]: straight_up_markov_gen.generate(n=3)
Out[69]: 'been used to want to speak with composure when she ceased speaking, "I have just received from Mr. Collins." "From Mr. Collins! and what can he mean by apologising for being simply dressed. She likes to have on the instrument, Eliza, and you ought to have on the length of his description of Jane. She felt it incumbent on her side. But I am in such awe of her wishes. Their sister\'s wedding day arrived; and Jane seem so wholly unconnected with any other man it would go. But he found, in reply to his ideas of happiness! But it'

In [70]: straight_up_markov_gen.generate(n=4)
Out[70]: 'was his conviction of its being heard. Elizabeth soon saw that she was not very differently engaged. "There is also one other person in the room. Colonel Fitzwilliam seemed really glad to see them; he had felt the smallest interest, and from none received either attention or pleasure. Miss Bennet he acknowledged to be pretty, but she smiled too much. Mrs. Hurst and Miss Bingley was uncivil to her, and she felt how little would be gained by her attempting to pursue them. Calling back the servant, therefore, she commissioned him, though in so breathless an accent as made her'

In [71]: straight_up_markov_gen.generate(n=5)
Out[71]: 'some manner connected with the letter he held. It suddenly struck her that it might be from Lady Catherine; and she anticipated with dismay all the consequent explanations. She followed her father to the fire place, and they both sat down. He then said, "I have received a letter this morning that has astonished me exceedingly. As it principally concerns yourself, you ought to know its contents. I did not know what to think." "She is a very good kind of woman, not too clever to be a valuable neighbour to Mrs. Bennet. They had several children. The eldest of'
</code></pre>

<p>Compare that to n-grams of increasing n from <em>Harry Potter and the Chamber of Secrets</em>. There&rsquo;s the same pattern of higher n&rsquo;s both making more sense and being closer to the original text, but we don&rsquo;t start getting verbatim text excerpts until n = 6.</p>

<pre><code>In [76]: harry_potter_markov_gen = Markov("texts/plain/chamber_secrets")

In [77]: harry_potter_markov_gen.generate(n=2)
Out[77]: 'knock people knew what Ginny out, reflecting the train harder than his hand- picked it into a nobody heard him - three of that your fault," retorted Draco. "The diary," said in the stairs. "Remember, boy was always top Ron had in Transfiguration. "I don\'t care, he saw the clouds and George must\'ve opened the elf came back in the pitch - the wiser -" "But, Professor," said Harry had never touched Harry\'s own free rein from his feet climbing through the full of whom were trickling down to turn up off the ground with a beacon of excitement gripped'

In [78]: harry_potter_markov_gen.generate(n=3)
Out[78]: 'Near sunset, Fred and George were now crammed into boxes on the side road where the photographer had stepped on what to do. "Not lost are you, Myrtle?" said Hermione as the Weasleys slouched outside with Harry behind them. "No, he was doing something and I, um, I asked her not to smile. And Lockhart was looking furious, and as he tried to put himself under arrest. It drives Mum mad." "That\'s the main road ahead, but their street was empty. "Okay," he said. "Id better get going, Hagrid, it\'s Transfiguration next and I\'ve got -well, I think he did,"'

In [79]: harry_potter_markov_gen.generate(n=4)
Out[79]: 'say no to a large bottle of something labeled Skele-Gro. "You\'re in for a rough night," she said, pouring out a steaming beakerful and handing it to them. "I told your dad how to use a telephone last summer - he\'ll know. Call me at the orphanage she lived just long enough to copy down a name or date, then falling asleep again. He had made up his mind what he was going to tear it. While Ron kept watch he tugged and twisted, and at last, after several tense minutes, the paper came free. It was a nightmare -'

In [80]: harry_potter_markov_gen.generate(n=5)
Out[80]: 'side of the field. "They love it here .... Dad\'s too soft with them; he thinks they\'re funny . . . ." He swept off his plumed hat and bowed them inside. It was an incredible sight. The dungeon was full of hundreds of pearly-white, translucent people, mostly drifting around a crowded dance floor, waltzing to the dreadful, quavering sound of thirty musical saws, played by an orchestra on a raised, black-draped platform. A chandelier overhead blazed midnight-blue with a thousand more black candles. Their breath rose in a mist before them; it was like stepping into a freezer. "Shall'

In [81]: harry_potter_markov_gen.generate(n=6)
Out[81]: 'into the station. Harry had caught the Hogwarts Express the previous year. The tricky part was getting onto platform nine and three-quarters, which wasn\'t visible to the Muggle eye. What you had to do was walk through the solid barrier dividing platforms nine and ten. It didn\'t hurt, but it had to be done carefully so that none of the Muggles noticed you vanishing. "Percy first," said Mrs. Weasley, looking nervously at the clock overhead, which showed they had only five minutes to disappear casually through the barrier. Percy strode briskly forward and vanished. Mr. Weasley went next; Fred and'
</code></pre>

<p>Fun bonus: infinite loop!</p>

<pre><code>In [74]: straight_up_markov_gen.generate(n=5)
Out[74]: "as much as possible prevented her husband from pressing her; but Mr. Collins could not conceal his apprehension of Lady Catherine's being rather displeased by her staying at home. When they were gone, Elizabeth, as if intending to exasperate herself as much as possible prevented her husband from pressing her; but Mr. Collins could not conceal his apprehension of Lady Catherine's being rather displeased by her staying at home. When they were gone, Elizabeth, as if intending to exasperate herself as much as possible prevented her husband from pressing her; but Mr. Collins could not conceal his apprehension of Lady"
</code></pre>

<p>[1] an ngram is a group of n words considered at a time, where the first n-1 words key to the last word. So for instance, if I&rsquo;m working with tri-grams (n = 3) and the phrases &ldquo;it is a,&rdquo; &ldquo;it is silly&rdquo;, and &ldquo;it is Frank&rdquo; appear in my corpus, when my corpus gets loaded into a big dictionary, <code>[('it', 'is')]</code> will key to <code>['a', 'silly', 'Frank']</code>. Then, when I&rsquo;m generating random text and I already have &ldquo;it is&rdquo;, I can look in <code>mydict[('it', 'is')]</code> for words that might possibly follow that phrase. I then pick one at random, stick it onto the end of my text (say, &ldquo;it is Frank&rdquo;) and repeat (`mydict[(&lsquo;is&rsquo;, &lsquo;Frank&rsquo;)] &ndash;> [&lsquo;sick&rsquo;, &lsquo;angry&rsquo;,&lsquo;the&rsquo;]).</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Lessons in Default Function Arguments]]></title>
    <link href="http://maiamcc.github.io/blog/2014/09/29/lessons-in-default-function-arguments/"/>
    <updated>2014-09-29T18:16:56-04:00</updated>
    <id>http://maiamcc.github.io/blog/2014/09/29/lessons-in-default-function-arguments</id>
    <content type="html"><![CDATA[<p>Today on &ldquo;Bugs that everyone already knew about but Maia found out about for the first time so will write up anyway&rdquo;, we&rsquo;re going to talk about the perils and pitfalls of using mutable objects as default arguments for functions in Python. (This episode brought to you by Maia&rsquo;s contradance database and the letter Y.)</p>

<p>No, nothing went wrong in my code that caused me to learn this lesson, but multiple code reivewers raised red flags about this line in my code: <code>def resolve_query_dict(d, moves_list=Move.objects.all())</code>. <code>Move.objects.all()</code>, by the way, is a fancy Django function that returns a list of all of the <code>Move</code> objects in your database, and since I would likely never be running this code over an extended period of time while things were added to the database, accidentally freezing the value of &ldquo;all of the moves in my database&rdquo; wouldn&rsquo;t have really been an issue, but the dangers of writing code like the above are still whacky and interesting. Basically, odd things happen when you use mutable objects or called functions as default variables in your functions.<!-- more --></p>

<p>Let&rsquo;s define a helper function:</p>

<pre><code class="python">&gt;&gt;&gt; def make_a_list():
    ... print "Making a list..."
    ... return [1,2,3]
</code></pre>

<p>and then some random function that takes a (called) function as a default value:</p>

<pre><code class="python">&gt;&gt;&gt; def list_length(mylist = make_a_list()):
...     return len(mylist)
Making a list...
</code></pre>

<p>The thing that&rsquo;s odd about the code that we just ran is that it printed &ldquo;Making a list&hellip;&rdquo;, which implies that the <code>make_a_list</code> function got <em>called</em>, even though all we did was assign it as a default variable. Interesting. Now what happens if we run <code>list_length</code>?</p>

<pre><code class="python">&gt;&gt;&gt; list_length([1,2,3,4,5])
5
&gt;&gt;&gt; list_length()
3
</code></pre>

<p>If you pass it an argument, it runs just as you&rsquo;d expect it to. If you don&rsquo;t pass it arguments, it returns the value you&rsquo;d expect, but notice that it doesn&rsquo;t print &ldquo;Making a list&hellip;&rdquo;&ndash;which implies that it hasn&rsquo;t run the <code>make_a_list</code> function! The conclusion we draw here is that when you use a function as a default argument, that function is called (and the value bound) <em>at assignment</em>, <em>not</em> whenever you run its container function. So that means that if you want your default-value-function to run every time you call its container function&hellip; well, it won&rsquo;t! If you needed more convincing:</p>

<pre><code class="python">&gt;&gt;&gt; from random import randint
&gt;&gt;&gt; def plus_one(num=randint(1,1000)):
...     return num+1
&gt;&gt;&gt; plus_one(5)
6
&gt;&gt;&gt; # that worked as we expected it to
&gt;&gt;&gt; plus_one()
42
&gt;&gt;&gt; plus_one()
42
&gt;&gt;&gt; plus_one()
42
&gt;&gt;&gt; plus_one()
42
&gt;&gt;&gt; plus_one()
42
&gt;&gt;&gt; plus_one()
42
</code></pre>

<p>Hmm. It would appear that we aren&rsquo;t getting a new random number every time we run this function.</p>

<p>That&rsquo;s not the only weird thing about default arguments, though. Things can get messy even when you&rsquo;re not setting functions as default args&ndash;really, all it takes to break things is a mutable object.</p>

<pre><code class="python">&gt;&gt;&gt; def append_one(mylist = []):
...     mylist.append(1)
...     return mylist
&gt;&gt;&gt; append_one()
[1]
&gt;&gt;&gt; append_one()
[1, 1]
&gt;&gt;&gt; append_one()
[1, 1, 1]
&gt;&gt;&gt; append_one()
[1, 1, 1, 1]
&gt;&gt;&gt; append_one()
[1, 1, 1, 1, 1]
</code></pre>

<p>As with the function-as-default-arg example, your default argument binds <em>at definition</em>&ndash;and what&rsquo;s more, it binds to a specific object in memory. So every time you call <code>append_one</code>, you&rsquo;re not appending one to a new empty list, you&rsquo;re appending one to <em>that exact empty list that you created in memory, which now has more and more things in it</em>. It&rsquo;s the same as if you passed in an existing, named list as your default:</p>

<pre><code class="python">&gt;&gt;&gt; stuff = [1,3,5,7]
&gt;&gt;&gt; def append_one(mylist = stuff):
...     mylist.append(1)
...     return mylist
&gt;&gt;&gt; append_one()
[1, 3, 5, 7, 1]
&gt;&gt;&gt; append_one()
[1, 3, 5, 7, 1, 1]
&gt;&gt;&gt; append_one()
[1, 3, 5, 7, 1, 1, 1]
</code></pre>

<p>Perhaps it&rsquo;s a bit more intuitive this way, but the exact same thing is happening in the previous example; the function is modifying a distinct object in memory, whether it was named before it got passed as a default argument or not.</p>

<p>Whacky fun! And a valuable lesson learned: <em>don&rsquo;t use mutable objects or functions as default values in your functions</em> unless you want a whole lot of hilarious code hijinks. (Which, hey, maybe you do, no judgements here!)</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Javascript/JQuery 101]]></title>
    <link href="http://maiamcc.github.io/blog/2014/09/24/javascript-jquery-101/"/>
    <updated>2014-09-24T16:28:38-04:00</updated>
    <id>http://maiamcc.github.io/blog/2014/09/24/javascript-jquery-101</id>
    <content type="html"><![CDATA[<p>Funnily enough, when you&rsquo;re teaching yourself how to do stuff pretty much from scratch, sans tutorials or guidance, you miss a few crucial points. Weird, right? Here (mostly for my own records, but you can read it if you want!) are the things I learned this afternoon from some code review of my Javascript/JQuery/Datatables code for my contra database:</p>

<p>JS != JQuery!!! They&rsquo;re different things! They each have different sets of methods, and you need to keep track of whether any given thing you&rsquo;re dealing with in web scripting is a JQuery or DOM (and therefore JS) object. <!-- more -->If it&rsquo;s avoidable, don&rsquo;t mix JS and JQuery&ndash;be consistent within one document. Usually, JQuery is more precise and prettier. Consider using dollar signs at the beginning of your variable names to indicate that they point to JQuery objects, so you don&rsquo;t get confused. Most if not all JS functions have (generally shorter, prettier) JQuery equivalents. Here are some that I replaced in my code today:</p>

<table><tr><td>
    <strong>JS</strong>
</td><td>
    <strong>JQuery</strong>
</td></tr>
<tr><td>
<code>
    getElementByID("foo")
</code>
</td><td>
<code>
    $('#foo')
</code>
</td></tr>

<tr><td>
<code>
    getElementsByClassName("bar")
</code>
</td><td>
<code>
    $('.bar')
</code>
</td></tr>

<tr><td>
<code>
    this
</code>
</td><td>
<code>
    $(this)
</code>
</td></tr>

<tr><td>
<code>
    .setAttribute("foo","bar")
</code>
</td><td>
<code>
    .attr("foo", "bar")
</code>
</td></tr>

<tr><td>
<code>
    .getAttribute("foo")
</code>
</td><td>
<code>
    .attr("foo")
</code>
</td></tr>

<tr><td>
<code>
    .value
</code>
</td><td>
<code>
    .val()
</code>
</td></tr>

<tr><td>
<code>
    .parentNode
</code>
</td><td>
<code>
    .parent()
</code>
</td></tr>
</table>


<p><p>
JQuery functions like <code>$(".bar")</code> or <code>$(".mytag")</code> (which gets all elements matching class &ldquo;bar&rdquo; and html tag &ldquo;mytag&rdquo;, respectively) return arrays of DOM elements. If you want to get something from this array, it can be tempting to pluck it from its index, a la <code>$(".bar")[2]</code>. <em>Be warned</em>: this returns a DOM element, and therefore you can&rsquo;t do shiny JQuery stuff to it. Instead, get that same element as a JQuery object with <code>$(".bar").eq(2)</code> (where the <code>eq</code> function takes as an argument the index of the thing you want to get out of the array). I can&rsquo;t tell you how much pain this would have saved me if I had known this at the beginning of my project.</p>

<p>On the &ldquo;pesky formatting details&rdquo; front, JS indents with only two spaces, and puts semicolons after every line that doesn&rsquo;t end in a curly brace. I swear, this will take me another three years to do properly and consistently. And when I master it, it will ruin my Python. Yeargh. Also, Javascript pitches possibly the least helpful errors ever. Okay, complaining over.</p>

<p>Anyway, I have a working (if ugly) search page that magically sprouts new search fields everywhere, and a working (if ugly) datatable that displays the dances in my database with collapsable child rows for additional information, and a understand a little bit more about Javascript/JQuery for web work! Huzzah!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[So Much for That Project]]></title>
    <link href="http://maiamcc.github.io/blog/2014/09/17/so-much-for-that-project/"/>
    <updated>2014-09-17T12:22:01-04:00</updated>
    <id>http://maiamcc.github.io/blog/2014/09/17/so-much-for-that-project</id>
    <content type="html"><![CDATA[<p>Alas, it seems that my dreams of writing a choral harmonizer in the style of J.S. Bach have to be put to bed until another day. Susan and I have been taking various stabs at this, triyng out a few ineffective Python midi programs (one of these, incidentally, had ZERO documentation and was THE MOST FRUSTRATING THING EVER) before settling on <a href="https://code.google.com/p/mingus/">mingus</a>, a midi/music theory Python library. Unfortunately, it seems like no one&rsquo;s addressed any bug reports since 2011, so when we realized that midi read-in was totally borked, we were a little stymied. Specficially, if we gave it this file as input:</p>

<p><img src="/images/mingusbug_input.png" alt="Input file" /></p>

<p>It returned this mess here:</p>

<p><img src="/images/mingusbug_output.png" alt="Output file" /></p>

<!-- more -->


<p>For the record, what seems to be going on here, as far as we can tell, is that while the notes have been preserved, the rhythms have all shifted over by one. The first note has been magically converted into a quarter note, and each note after that has the duration that ought to have belonged to the note before it. (To explain it another way: assume that we have a list of original notes and we&rsquo;re making a list of new notes, where each new note OUGHT to be identical to its corersponding original note. Instead, we get <code>newnote[0].duration == quarter</code>, <code>newnote[1].duration == orignote[0].duration</code>, <code>newnote[2].duration == orignote[1].duration</code>, etc.)</p>

<p>So, <a href="https://code.google.com/p/mingus/issues/detail?id=125">we&rsquo;ve submitted a bug report</a> but we&rsquo;re not optimistic since, like I mentioned, the last answered bug is from 2011. But one day, when my heart has healed, I&rsquo;ll go off looking for ways to fix this or for other Python midi libraries that are suitable for this project, and then I&rsquo;ll take another swing at the choral generator! (Any suggestions? Send them my way! I&rsquo;m looking for a lib that can read, inspect, write, and output midi.)</p>

<p>Until then, as I near the end of HS, it&rsquo;s actually surprisingly freeing to have one less thing to worry about getting done. Obviously I&rsquo;m not going to finish all of this stuff before HS ends, but here&rsquo;s what&rsquo;s on my docket at the moment:</p>

<ul>
<li>contradance database (search logic, and eventually expanding and populating database)</li>
<li>sudoku solver (so close&hellip;!)</li>
<li>more work on the fabulous <a href="http://hypatia.ca/">Leigh Honeywell</a>&rsquo;s <a href="https://github.com/hypatia/virtuoso">Virtuoso Project</a>, which will soon be a web app that doles out writing exercises to fight imposter syndrome, and is also a fabulous excuse for me to learn Bootstrap and play with design.</li>
<li>goob.py, a fake git</li>
</ul>

]]></content>
  </entry>
  
</feed>
